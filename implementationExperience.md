# Implementation Experience

## What is happening here?
I'll follow the steps and take notes of the results when following the set up procedure proposed in this repository.

## Goal
Create a working customizable WiFi HaLow network.

## Environment

### Main elements
- Raspberry Pi 3 B+
- AHPI7292S WiFi HaLow™ Raspberry Pi™ HAT module
- 868 MHz antenna compatible with WiFi HaLow HAT

### Accesories
- Power supply [element14] 2.5 A, 5.1 V, micro USB B
- SD card 32 GB with FAT32 file format
- USB Keyboard
- USB Mouse
- HDMI screen

### Services 
- Interntet connection
- Electricity supply

### Code elements
- [nrc7292_sw_pkg](https://github.com/newracom/nrc7292_sw_pkg) repository

## Steps take
### SD card set up
- Format the SD card to FAT32 filesystem: done with Windows disk management tool
- Flash two SD cards with official Raspberry Pi OS (32-bit) image, one is for client and another is for AP (step 1 from [ALFA](https://docs.alfa.com.tw/Product/AHPI7292S/20_Getting_Started_New/): done with the [Raspberry Pi Imager](https://www.raspberrypi.com/software/)
 - Options used:
  - Raspberry Pi Device: RASPBERRY PI 3
  - Operating system: RASPBERRY PI OS (32-BIT) Released 2025-05-13
  - Storage: SD card
  - Hostname: ietr.local
  - User: root
  - Pass: root
  - No WLAN configured
  - Services: SSH enabled with password authentication
  - Options: all 3 checked (play sound when finished, eject media when finished, enable telemetry)
  - Apply configuration -> Yes
  - Accept currente content being erased? -> Yes
  - Configuration time: ~4 minutes

### Rasperry Pi set up
- Take the SD card and put in the slot from the Raspberry 3
- Complete the bench set up for working with the Raspberry Pi: mouse, keyboard, screen, power supply, HAT, and antenna (see step 2 from [ALFA](https://docs.alfa.com.tw/Product/AHPI7292S/20_Getting_Started_New/))
- Start the the Raspberry Pi, intial starting time took ~2 minutes
- Initial set up
  - Country: France
  - Language: French
  - Timezone: Paris
  - Use English language: box checked
  - Use US keyboard: box unchecked
  - Press Next
  - Wait for ~1 linute
- Follow step 3 from [ALFA](https://docs.alfa.com.tw/Product/AHPI7292S/20_Getting_Started_New/)
  - username: pi
  - password: pi
    - An alert message is received stating that we are using a known default value for the username or password, system reccomend to change it -> OK
  - WiFi network: Internet connection provided by cellphone. In case Internet connection is provided by Bluetooth or Ethernet, just skip this part.
  - Browser choice: Chromium selected, also I have checked the box to have Firefox uninstalled.
  - Next
  - Update software: I should have the latest software since I have just download it, anyway I will check if there is any update -> (clock synchronisation...) "Error: could not sync time - unable to check updates"
  - OK
  - Restart (takes ~1 minute)
Raspberry PI is ready. Now, as far as we know, we could either continue with [ALFA's](https://docs.alfa.com.tw/Product/AHPI7292S/20_Getting_Started_New/) steps --the HAT manufacturer-- (now we should go for step 4) ==OR== we could follow Newracom's steps --the chip manufacturer--. Due to previous positive experience with Newracom's information and support, we will take their path.

### Newracoms steps

The set up mode we have chosen is ==Host==. For context information, the Standalone mode is also available.

For the Host mode, we will look for the steps proposed by Newracoms in their GitHub repository.
- Open browser -> Go to Newracom's repository in GitHub -> Look for the nrc_7292_sw_pck repository and download it (took 5 to 10 minutes)
- Open CLI -> Locate the downloaded file in the Downloads' folder -> Move the file to ~/ ``mv nrc7292_sw_pkg-master.zip ~/``
- Unzip the file ``unzip nrc7292_sw_pkg-master.zip`` (takes ~1 minute)
- Execute:
  - ``cd /boot/overlays`` OK
  - ``sudo dtc -I dts -O dtb -o newracom.dtbo newracom.dts`` FATAL ERROR: "newracom.dts": No such file or directory.
    - I changed the command to  ``sudo dtc -I dts -O dtb -o newracom.dtbo ~/nrc7292_sw_pkg-master/dts
/newracom.dts`` for the command to correctly locate the input file.
    - Command was executed and threw a warning message: "/home/pi/nrc7292_sw_pkg-master/dts
/newracom.dts:16.12-18.6: Warning (unit_address_cs_reg): /fragment@0/__overlay/__spidev@0: node has a unit name, but no reg or ranges property"
    - Inspecting /boot/overlays I find a file called "newracom.dtbo", so let's say that we can move forward.
  - Next command is ``sudo vi /boot/config.txt`` + ``dtoverlay=newracom ``
    - Once I execute the first part I get to a file where I can see a "DO NOT EDIT THIS FILE" and "The file you are looking for has moved to /boot/firmware/config.txt"
    - So, now I do ``sudo vi /boot/firmware/config.txt`` and I have arrived to the good file (I hope...). Now I need to check where should I insert the ``dtoverlay=newracom `` because it is defined already 2 times in the original file. 
  
